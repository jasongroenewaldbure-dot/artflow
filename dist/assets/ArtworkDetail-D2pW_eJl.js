import{e as k,u as w,d as f,r as h,j as s,L as N,a as o,H as v,s as y}from"./index-Tyz_JBt9.js";import{u as _}from"./useQuery-_wka9r7T.js";import{E as A}from"./ErrorMessage-D_zXdPzX.js";import{C as c}from"./Container-D0TcWsx1.js";import{C}from"./circle-alert-Csbyw32W.js";import{A as x}from"./arrow-left-Bpqrswsz.js";import{c as q}from"./createLucideIcon-DhCu6Z8O.js";import{U as z}from"./user-B7duxeUb.js";import{C as S}from"./calendar-DCCf2P0w.js";import{H as E}from"./heart-BZ8u-Y3T.js";import{S as I}from"./share-2-BUMbV-vM.js";import{P as F}from"./palette-DNFJJ_b-.js";import{M as L}from"./map-pin-Cp412RmT.js";import{E as P}from"./external-link-fg8Hv45E.js";import"./Icon-DdnnFTJv.js";/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],M=q("chevron-right",B),R=async a=>{const{data:t,error:i}=await y.from("artworks").select(`
      *,
      artist:profiles!artworks_user_id_fkey(
        id,
        full_name,
        display_name,
        slug,
        avatar_url,
        bio,
        location,
        website,
        created_at
      )
    `).eq("slug",a).single();if(i)throw console.error("Error fetching artwork by slug:",i),new Error(i.message);if(!t)throw new Error("Artwork not found");return t},es=()=>{const{artworkSlug:a}=k(),t=w(),{user:i}=f(),[u,l]=h.useState(!1),[d,$]=h.useState(!1),{data:e,isLoading:j,isError:p,error:m}=_({queryKey:["artwork",a],queryFn:()=>R(a),enabled:!!a,retry:1}),g=(n,b="USD")=>new Intl.NumberFormat("en-US",{style:"currency",currency:b}).format(n);if(j)return s.jsx("div",{className:"artwork-detail-page",children:s.jsx(c,{children:s.jsx("div",{style:{textAlign:"center",padding:"4rem 0"},children:s.jsx(N,{size:"lg",text:"Loading artwork..."})})})});if(p||!e)return s.jsx("div",{className:"artwork-detail-page",children:s.jsx(c,{children:s.jsxs("div",{style:{textAlign:"center",padding:"4rem 0"},children:[s.jsx(C,{size:48,style:{color:"var(--muted)",marginBottom:"1rem"}}),s.jsx("h1",{children:"Artwork Not Found"}),s.jsx("p",{children:"The piece you are looking for does not exist or has been moved."}),m&&s.jsx(A,{message:m.message,style:{marginTop:"1rem"}}),s.jsxs("div",{style:{marginTop:"2rem"},children:[s.jsxs("button",{onClick:()=>t(-1),className:"btn btn-outline",style:{marginRight:"1rem"},children:[s.jsx(x,{size:16,style:{marginRight:"0.5rem"}}),"Go Back"]}),s.jsx(o,{to:"/artworks",className:"btn btn-primary",children:"Browse All Artworks"})]})]})})});const r=e.artist;return s.jsxs(s.Fragment,{children:[s.jsxs(v,{children:[s.jsxs("title",{children:[e.title," by ",r?.full_name," | ArtFlow"]}),s.jsx("meta",{name:"description",content:e.description||`View ${e.title} by ${r?.full_name} on ArtFlow`})]}),s.jsx("div",{className:"artwork-detail-page",children:s.jsxs(c,{children:[s.jsxs("nav",{className:"artwork-breadcrumb",children:[s.jsxs("button",{onClick:()=>t(-1),className:"breadcrumb-back",children:[s.jsx(x,{size:16}),"Back"]}),s.jsxs("div",{className:"breadcrumb-path",children:[s.jsx(o,{to:"/artworks",children:"Artworks"}),s.jsx(M,{size:14}),s.jsx("span",{children:e.title})]})]}),s.jsxs("div",{className:"artwork-layout-grid",children:[s.jsx("div",{className:"artwork-image-column",children:s.jsx("img",{src:e.primary_image_url||e.image_url||"https://placehold.co/800x800?text=Image+Not+Available",alt:e.title,className:"main-artwork-image"})}),s.jsxs("div",{className:"artwork-info-column",children:[s.jsxs("div",{className:"artwork-header",children:[r&&s.jsxs(o,{to:`/artist/${r.slug}`,className:"artist-link",children:[s.jsx(z,{size:16}),r.full_name]}),s.jsx("h1",{className:"artwork-title",children:e.title}),e.year&&s.jsxs("div",{className:"artwork-year",children:[s.jsx(S,{size:14}),e.year]})]}),s.jsxs("div",{className:"artwork-price-section",children:[s.jsx("div",{className:"price-container",children:s.jsxs("span",{className:"artwork-price",children:[e.price?g(e.price,e.currency):"Price on Request",e.is_price_negotiable&&s.jsx("span",{className:"negotiable-badge",children:"Negotiable"})]})}),s.jsxs("div",{className:"artwork-actions",children:[s.jsx("button",{className:`action-btn ${d?"favorited":""}`,title:"Add to favorites",children:s.jsx(E,{size:18,fill:d?"currentColor":"none"})}),s.jsx("button",{className:"action-btn",title:"Share artwork",children:s.jsx(I,{size:18})}),s.jsx("button",{onClick:()=>l(!0),className:"btn btn-primary inquire-btn",children:"Inquire"})]})]}),s.jsxs("div",{className:"artwork-quick-details",children:[e.medium&&s.jsxs("div",{className:"detail-item",children:[s.jsx(F,{size:16}),s.jsx("span",{children:e.medium})]}),r?.location&&s.jsxs("div",{className:"detail-item",children:[s.jsx(L,{size:16}),s.jsx("span",{children:r.location})]})]})]})]}),e.description&&s.jsxs("div",{className:"artwork-details-section",children:[s.jsx("h3",{children:"About this Work"}),s.jsx("p",{children:e.description})]}),r&&s.jsx("div",{className:"artist-spotlight-section",children:s.jsxs("div",{className:"artist-spotlight",children:[r.avatar_url&&s.jsx("img",{src:r.avatar_url,alt:r.full_name,className:"artist-avatar"}),s.jsxs("div",{className:"artist-info",children:[s.jsxs("h3",{children:["About ",r.full_name]}),s.jsx("p",{className:"artist-bio",children:r.bio||"No biography available."}),s.jsxs(o,{to:`/artist/${r.slug}`,className:"btn btn-outline",children:["View Artist Profile",s.jsx(P,{size:14})]})]})]})})]})}),u&&s.jsx("div",{className:"modal-overlay",onClick:()=>l(!1),children:s.jsxs("div",{className:"modal-content",onClick:n=>n.stopPropagation(),children:[s.jsx("h3",{children:"Inquire about this artwork"}),s.jsx("p",{children:"Contact form would go here..."}),s.jsxs("div",{className:"modal-actions",children:[s.jsx("button",{onClick:()=>l(!1),className:"btn btn-outline",children:"Close"}),s.jsx("button",{className:"btn btn-primary",children:"Send Inquiry"})]})]})})]})};export{es as default};
