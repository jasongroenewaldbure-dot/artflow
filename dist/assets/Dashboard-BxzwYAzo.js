import{r as c,j as s,N as g,H as E,L as M,a as e,s as y}from"./index-Tyz_JBt9.js";import{E as f}from"./eye-Ctq-Wxgo.js";import{M as d}from"./message-square-gjEAjqvW.js";import{D as l}from"./dollar-sign-plVugqRs.js";import{P as v}from"./palette-DNFJJ_b-.js";import{B as r}from"./book-open-_JzI9eaT.js";import{P}from"./plus-CQXo5PTL.js";import{C as _,T as R}from"./target-r5vmWYoG.js";import{C as w}from"./circle-check-big-D0cnAB6B.js";import{U as n}from"./users-CXkz7CQP.js";import{C as L}from"./calendar-DCCf2P0w.js";import{C as B}from"./chart-column-BKOPnvez.js";import{S as k}from"./search-DqHloScL.js";import{H as h}from"./heart-BZ8u-Y3T.js";import{S as F}from"./star-ByIxtknh.js";import{T as W}from"./trending-up-CBbI_h7w.js";import"./createLucideIcon-DhCu6Z8O.js";function is(){const[o,m]=c.useState(null),[x,z]=c.useState(!0),[j,C]=c.useState([{id:"1",title:"Add new artwork to portfolio",description:"Upload and catalog your latest creation",priority:"high",category:"artwork",dueDate:"2024-01-15",completed:!1,actionUrl:"/artworks/new"},{id:"2",title:"Follow up with Sarah Johnson",description:'She inquired about "Sunset Dreams" last week',priority:"medium",category:"contact",dueDate:"2024-01-12",completed:!1,actionUrl:"/contacts/sarah-johnson"},{id:"3",title:"Create spring collection catalogue",description:"Prepare digital catalogue for upcoming season",priority:"high",category:"catalogue",dueDate:"2024-01-20",completed:!1,actionUrl:"/catalogues/new"},{id:"4",title:"Update pricing for older works",description:"Review and adjust prices based on market trends",priority:"low",category:"artwork",completed:!1,actionUrl:"/artworks"},{id:"5",title:"Schedule social media posts",description:"Plan content for this week's marketing",priority:"medium",category:"marketing",completed:!0,actionUrl:"/marketing"}]),[S]=c.useState([{title:"Total Views",value:"2,847",change:"+12%",changeType:"positive",icon:s.jsx(f,{size:20})},{title:"Inquiries",value:"23",change:"+8%",changeType:"positive",icon:s.jsx(d,{size:20})},{title:"Sales This Month",value:"$12,450",change:"+25%",changeType:"positive",icon:s.jsx(l,{size:20})},{title:"Portfolio Items",value:"47",change:"+3",changeType:"positive",icon:s.jsx(v,{size:20})}]),[q]=c.useState([{id:"1",type:"inquiry",title:'New inquiry for "Ocean Waves"',description:"From collector@example.com",timestamp:"2 hours ago",icon:s.jsx(d,{size:16})},{id:"2",type:"view",title:"Portfolio viewed 15 times",description:"From various visitors",timestamp:"4 hours ago",icon:s.jsx(f,{size:16})},{id:"3",type:"sale",title:'Artwork sold: "Mountain Peak"',description:"Sold for $2,500",timestamp:"1 day ago",icon:s.jsx(l,{size:16})},{id:"4",type:"catalogue",title:'Catalogue "Spring Collection" sent',description:"To 25 contacts",timestamp:"2 days ago",icon:s.jsx(r,{size:16})}]);c.useEffect(()=>{(async()=>{try{const{data:{user:t},error:u}=await y.auth.getUser();if(u)throw u;if(!t)throw new Error("No user found");const{data:i,error:b}=await y.from("profiles").select("display_name, full_name, role, created_at").eq("id",t.id).single();if(b){if(b.code==="PGRST116"){m(null);return}throw b}const U=i.role&&i.password_set&&i.profile_completed;m({id:t.id,email:t.email||"",role:i.role||"collector",name:i.display_name||t.email||"User",password_set:i.password_set||!1,profile_completed:U})}catch(t){console.error("Error fetching user:",t),m(null)}finally{z(!1)}})()},[]);const A=a=>{switch(a){case"high":return"var(--danger)";case"medium":return"#ff9500";case"low":return"var(--success)";default:return"var(--muted)"}},T=a=>{switch(a){case"artwork":return s.jsx(v,{size:16});case"catalogue":return s.jsx(r,{size:16});case"contact":return s.jsx(n,{size:16});case"sale":return s.jsx(l,{size:16});case"marketing":return s.jsx(W,{size:16});default:return s.jsx(R,{size:16})}},D=a=>{C(j.map(t=>t.id===a?{...t,completed:!t.completed}:t))};if(!x&&!o)return s.jsx(g,{to:"/start",replace:!0});if(!x&&o&&(!o.profile_completed||!o.password_set))return s.jsx(g,{to:"/onboarding",replace:!0});const N=j.filter(a=>!a.completed),p=j.filter(a=>a.completed);return s.jsxs("div",{className:"dashboard-page-container",children:[s.jsxs(E,{children:[s.jsx("title",{children:"Dashboard | ArtFlow"}),s.jsx("meta",{name:"description",content:"Your personalized dashboard with smart to-do suggestions and insights."})]}),x?s.jsx("div",{className:"dashboard-loading",children:s.jsx(M,{size:"lg",text:"Loading dashboard..."})}):o?.role==="artist"?s.jsxs("div",{className:"artist-dashboard-container",children:[s.jsxs("div",{className:"artist-dashboard-header",children:[s.jsxs("div",{className:"artist-dashboard-welcome",children:[s.jsx("h1",{className:"artist-dashboard-title",children:"Welcome back, Artist!"}),s.jsx("p",{className:"artist-dashboard-subtitle",children:"Here's what's happening with your art business today."})]}),s.jsxs("div",{className:"artist-dashboard-actions",children:[s.jsxs(e,{to:"/artworks/new",className:"artist-dashboard-button artist-dashboard-button--primary",children:[s.jsx(P,{size:18}),"Add Artwork"]}),s.jsxs(e,{to:"/catalogues/new",className:"artist-dashboard-button artist-dashboard-button--secondary",children:[s.jsx(r,{size:18}),"Create Catalogue"]})]})]}),s.jsxs("div",{className:"artist-dashboard-grid",children:[s.jsxs("div",{className:"artist-dashboard-section",children:[s.jsx("h2",{className:"artist-dashboard-section-title",children:"Quick Stats"}),s.jsx("div",{className:"artist-dashboard-stats-grid",children:S.map((a,t)=>s.jsxs("div",{className:"artist-dashboard-stat-card",children:[s.jsx("div",{className:"artist-dashboard-stat-icon",children:a.icon}),s.jsxs("div",{className:"artist-dashboard-stat-content",children:[s.jsx("div",{className:"artist-dashboard-stat-value",children:a.value}),s.jsx("div",{className:"artist-dashboard-stat-title",children:a.title}),s.jsx("div",{className:`artist-dashboard-stat-change artist-dashboard-stat-change--${a.changeType}`,children:a.change})]})]},t))})]}),s.jsxs("div",{className:"artist-dashboard-section",children:[s.jsxs("div",{className:"artist-dashboard-section-header",children:[s.jsx("h2",{className:"artist-dashboard-section-title",children:"Smart To-Do List"}),s.jsxs("span",{className:"artist-dashboard-todo-count",children:[N.length," pending"]})]}),s.jsx("div",{className:"artist-dashboard-todos",children:N.map(a=>s.jsxs("div",{className:"artist-dashboard-todo-item",children:[s.jsx("div",{className:"artist-dashboard-todo-checkbox",children:s.jsx("input",{type:"checkbox",checked:a.completed,onChange:()=>D(a.id),className:"artist-dashboard-todo-input"})}),s.jsxs("div",{className:"artist-dashboard-todo-content",children:[s.jsxs("div",{className:"artist-dashboard-todo-header",children:[s.jsx("h3",{className:"artist-dashboard-todo-title",children:a.title}),s.jsxs("div",{className:"artist-dashboard-todo-meta",children:[s.jsx("span",{className:"artist-dashboard-todo-priority",style:{color:A(a.priority)},children:a.priority}),s.jsxs("span",{className:"artist-dashboard-todo-category",children:[T(a.category),a.category]})]})]}),s.jsx("p",{className:"artist-dashboard-todo-description",children:a.description}),a.dueDate&&s.jsxs("div",{className:"artist-dashboard-todo-due",children:[s.jsx(_,{size:14}),"Due ",new Date(a.dueDate).toLocaleDateString()]})]}),s.jsx(e,{to:a.actionUrl,className:"artist-dashboard-todo-action",children:"Take Action"})]},a.id))}),p.length>0&&s.jsxs("div",{className:"artist-dashboard-completed-todos",children:[s.jsxs("h3",{className:"artist-dashboard-completed-title",children:[s.jsx(w,{size:16}),"Completed (",p.length,")"]}),s.jsx("div",{className:"artist-dashboard-completed-list",children:p.map(a=>s.jsxs("div",{className:"artist-dashboard-completed-item",children:[s.jsx(w,{size:14}),s.jsx("span",{className:"artist-dashboard-completed-text",children:a.title})]},a.id))})]})]}),s.jsxs("div",{className:"artist-dashboard-section",children:[s.jsx("h2",{className:"artist-dashboard-section-title",children:"Recent Activity"}),s.jsx("div",{className:"artist-dashboard-activity-list",children:q.map(a=>s.jsxs("div",{className:"artist-dashboard-activity-item",children:[s.jsx("div",{className:"artist-dashboard-activity-icon",children:a.icon}),s.jsxs("div",{className:"artist-dashboard-activity-content",children:[s.jsx("h4",{className:"artist-dashboard-activity-title",children:a.title}),s.jsx("p",{className:"artist-dashboard-activity-description",children:a.description}),s.jsx("span",{className:"artist-dashboard-activity-time",children:a.timestamp})]})]},a.id))})]}),s.jsxs("div",{className:"artist-dashboard-section",children:[s.jsx("h2",{className:"artist-dashboard-section-title",children:"Quick Actions"}),s.jsxs("div",{className:"artist-dashboard-quick-actions",children:[s.jsxs(e,{to:"/artworks",className:"artist-dashboard-quick-action",children:[s.jsx(v,{size:24}),s.jsx("span",{children:"Manage Artworks"})]}),s.jsxs(e,{to:"/catalogues",className:"artist-dashboard-quick-action",children:[s.jsx(r,{size:24}),s.jsx("span",{children:"View Catalogues"})]}),s.jsxs(e,{to:"/contacts",className:"artist-dashboard-quick-action",children:[s.jsx(n,{size:24}),s.jsx("span",{children:"Manage Contacts"})]}),s.jsxs(e,{to:"/messages",className:"artist-dashboard-quick-action",children:[s.jsx(d,{size:24}),s.jsx("span",{children:"View Messages"})]}),s.jsxs(e,{to:"/calendar",className:"artist-dashboard-quick-action",children:[s.jsx(L,{size:24}),s.jsx("span",{children:"View Calendar"})]}),s.jsxs(e,{to:"/analytics",className:"artist-dashboard-quick-action",children:[s.jsx(B,{size:24}),s.jsx("span",{children:"View Analytics"})]})]})]})]})]}):s.jsxs("div",{className:"collector-dashboard-container",children:[s.jsxs("div",{className:"collector-dashboard-header",children:[s.jsxs("div",{className:"collector-dashboard-welcome",children:[s.jsx("h1",{className:"collector-dashboard-title",children:"Welcome back, Collector!"}),s.jsx("p",{className:"collector-dashboard-subtitle",children:"Discover new artworks and manage your collection."})]}),s.jsxs("div",{className:"collector-dashboard-actions",children:[s.jsxs(e,{to:"/search",className:"collector-dashboard-button collector-dashboard-button--primary",children:[s.jsx(k,{size:18}),"Discover Art"]}),s.jsxs(e,{to:"/collection",className:"collector-dashboard-button collector-dashboard-button--secondary",children:[s.jsx(h,{size:18}),"My Collection"]})]})]}),s.jsxs("div",{className:"collector-dashboard-grid",children:[s.jsxs("div",{className:"collector-dashboard-section",children:[s.jsx("h2",{className:"collector-dashboard-section-title",children:"Your Collection"}),s.jsxs("div",{className:"collector-dashboard-stats-grid",children:[s.jsxs("div",{className:"collector-dashboard-stat-card",children:[s.jsx("div",{className:"collector-dashboard-stat-icon",children:s.jsx(h,{size:20})}),s.jsxs("div",{className:"collector-dashboard-stat-content",children:[s.jsx("div",{className:"collector-dashboard-stat-value",children:"12"}),s.jsx("div",{className:"collector-dashboard-stat-title",children:"Artworks Owned"}),s.jsx("div",{className:"collector-dashboard-stat-change collector-dashboard-stat-change--positive",children:"+2 this month"})]})]}),s.jsxs("div",{className:"collector-dashboard-stat-card",children:[s.jsx("div",{className:"collector-dashboard-stat-icon",children:s.jsx(n,{size:20})}),s.jsxs("div",{className:"collector-dashboard-stat-content",children:[s.jsx("div",{className:"collector-dashboard-stat-value",children:"8"}),s.jsx("div",{className:"collector-dashboard-stat-title",children:"Artists Followed"}),s.jsx("div",{className:"collector-dashboard-stat-change collector-dashboard-stat-change--positive",children:"+1 this week"})]})]}),s.jsxs("div",{className:"collector-dashboard-stat-card",children:[s.jsx("div",{className:"collector-dashboard-stat-icon",children:s.jsx(l,{size:20})}),s.jsxs("div",{className:"collector-dashboard-stat-content",children:[s.jsx("div",{className:"collector-dashboard-stat-value",children:"$45,200"}),s.jsx("div",{className:"collector-dashboard-stat-title",children:"Collection Value"}),s.jsx("div",{className:"collector-dashboard-stat-change collector-dashboard-stat-change--positive",children:"+12% this year"})]})]}),s.jsxs("div",{className:"collector-dashboard-stat-card",children:[s.jsx("div",{className:"collector-dashboard-stat-icon",children:s.jsx(r,{size:20})}),s.jsxs("div",{className:"collector-dashboard-stat-content",children:[s.jsx("div",{className:"collector-dashboard-stat-value",children:"5"}),s.jsx("div",{className:"collector-dashboard-stat-title",children:"Catalogues Saved"}),s.jsx("div",{className:"collector-dashboard-stat-change collector-dashboard-stat-change--neutral",children:"No change"})]})]})]})]}),s.jsxs("div",{className:"collector-dashboard-section",children:[s.jsx("h2",{className:"collector-dashboard-section-title",children:"Recommended for You"}),s.jsxs("div",{className:"collector-dashboard-recommendations",children:[s.jsxs("div",{className:"collector-dashboard-recommendation-item",children:[s.jsx("div",{className:"collector-dashboard-recommendation-image",children:s.jsx("img",{src:"/api/placeholder/200/200",alt:"Recommended artwork"})}),s.jsxs("div",{className:"collector-dashboard-recommendation-info",children:[s.jsx("h3",{children:"Abstract Expression"}),s.jsx("p",{children:"By Sarah Johnson"}),s.jsx("p",{className:"collector-dashboard-recommendation-price",children:"$2,500"})]})]}),s.jsxs("div",{className:"collector-dashboard-recommendation-item",children:[s.jsx("div",{className:"collector-dashboard-recommendation-image",children:s.jsx("img",{src:"/api/placeholder/200/200",alt:"Recommended artwork"})}),s.jsxs("div",{className:"collector-dashboard-recommendation-info",children:[s.jsx("h3",{children:"Urban Landscape"}),s.jsx("p",{children:"By Michael Chen"}),s.jsx("p",{className:"collector-dashboard-recommendation-price",children:"$1,800"})]})]}),s.jsxs("div",{className:"collector-dashboard-recommendation-item",children:[s.jsx("div",{className:"collector-dashboard-recommendation-image",children:s.jsx("img",{src:"/api/placeholder/200/200",alt:"Recommended artwork"})}),s.jsxs("div",{className:"collector-dashboard-recommendation-info",children:[s.jsx("h3",{children:"Ocean Waves"}),s.jsx("p",{children:"By Emma Wilson"}),s.jsx("p",{className:"collector-dashboard-recommendation-price",children:"$3,200"})]})]})]})]}),s.jsxs("div",{className:"collector-dashboard-section",children:[s.jsx("h2",{className:"collector-dashboard-section-title",children:"Recent Activity"}),s.jsxs("div",{className:"collector-dashboard-activity-list",children:[s.jsxs("div",{className:"collector-dashboard-activity-item",children:[s.jsx("div",{className:"collector-dashboard-activity-icon",children:s.jsx(h,{size:16})}),s.jsxs("div",{className:"collector-dashboard-activity-content",children:[s.jsx("h4",{children:'Added "Sunset Dreams" to favorites'}),s.jsx("p",{children:"By Sarah Johnson"}),s.jsx("span",{className:"collector-dashboard-activity-time",children:"2 hours ago"})]})]}),s.jsxs("div",{className:"collector-dashboard-activity-item",children:[s.jsx("div",{className:"collector-dashboard-activity-icon",children:s.jsx(d,{size:16})}),s.jsxs("div",{className:"collector-dashboard-activity-content",children:[s.jsx("h4",{children:'Inquiry sent for "Urban Reflections"'}),s.jsx("p",{children:"Waiting for artist response"}),s.jsx("span",{className:"collector-dashboard-activity-time",children:"1 day ago"})]})]}),s.jsxs("div",{className:"collector-dashboard-activity-item",children:[s.jsx("div",{className:"collector-dashboard-activity-icon",children:s.jsx(r,{size:16})}),s.jsxs("div",{className:"collector-dashboard-activity-content",children:[s.jsx("h4",{children:"New catalogue received"}),s.jsx("p",{children:'"Spring Collection" by Emma Wilson'}),s.jsx("span",{className:"collector-dashboard-activity-time",children:"3 days ago"})]})]})]})]}),s.jsxs("div",{className:"collector-dashboard-section",children:[s.jsx("h2",{className:"collector-dashboard-section-title",children:"Quick Actions"}),s.jsxs("div",{className:"collector-dashboard-quick-actions",children:[s.jsxs(e,{to:"/search",className:"collector-dashboard-quick-action",children:[s.jsx(k,{size:24}),s.jsx("span",{children:"Discover Art"})]}),s.jsxs(e,{to:"/collection",className:"collector-dashboard-quick-action",children:[s.jsx(h,{size:24}),s.jsx("span",{children:"My Collection"})]}),s.jsxs(e,{to:"/favorites",className:"collector-dashboard-quick-action",children:[s.jsx(F,{size:24}),s.jsx("span",{children:"Favorites"})]}),s.jsxs(e,{to:"/artists",className:"collector-dashboard-quick-action",children:[s.jsx(n,{size:24}),s.jsx("span",{children:"Followed Artists"})]}),s.jsxs(e,{to:"/catalogues",className:"collector-dashboard-quick-action",children:[s.jsx(r,{size:24}),s.jsx("span",{children:"Saved Catalogues"})]}),s.jsxs(e,{to:"/inquiries",className:"collector-dashboard-quick-action",children:[s.jsx(d,{size:24}),s.jsx("span",{children:"My Inquiries"})]})]})]})]})]})]})}export{is as default};
