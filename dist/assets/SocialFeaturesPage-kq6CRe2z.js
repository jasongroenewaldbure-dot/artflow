import{d as Y,r as l,s as k,z as g,j as e,H as Q}from"./index-Tyz_JBt9.js";import{P as ee}from"./plus-CQXo5PTL.js";import{S as T}from"./search-DqHloScL.js";import{G as R,L as Z}from"./list-BOiaReEr.js";import{G as se}from"./globe-n10bFvIm.js";import{L as re}from"./lock-BkYk8nJ6.js";import{E as J,I as te}from"./image-D0vDwGSc.js";import{E as ae}from"./eye-Ctq-Wxgo.js";import{H as I}from"./heart-BZ8u-Y3T.js";import{B}from"./bell-DU0zGtQB.js";import{c as H}from"./createLucideIcon-DhCu6Z8O.js";import{X as L}from"./x-jv565ngo.js";import{U as oe,S as ie}from"./upload-Dy_EntIT.js";import{L as G}from"./loader-BX6vvf7J.js";import{C as le}from"./circle-check-big-D0cnAB6B.js";import{T as O}from"./trending-up-CBbI_h7w.js";import{U as K}from"./users-CXkz7CQP.js";import{C as ne}from"./camera-Ct-uCiTe.js";import{C as X}from"./chart-column-BKOPnvez.js";import{M as de}from"./message-square-gjEAjqvW.js";import{S as ce}from"./settings-ZIwiCntr.js";import{P as me}from"./palette-DNFJJ_b-.js";/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M17 17H4a1 1 0 0 1-.74-1.673C4.59 13.956 6 12.499 6 8a6 6 0 0 1 .258-1.742",key:"178tsu"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.668 3.01A6 6 0 0 1 18 8c0 2.687.77 4.653 1.707 6.05",key:"1hqiys"}]],V=H("bell-off",ue);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=[["path",{d:"M10 5H3",key:"1qgfaw"}],["path",{d:"M12 19H3",key:"yhmn1j"}],["path",{d:"M14 3v4",key:"1sua03"}],["path",{d:"M16 17v4",key:"1q0r14"}],["path",{d:"M21 12h-9",key:"1o4lsq"}],["path",{d:"M21 19h-5",key:"1rlt1p"}],["path",{d:"M21 5h-7",key:"1oszz2"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M8 12H3",key:"a7s4jb"}]],ge=H("sliders-horizontal",xe);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],fe=H("user-minus",he),W=({userId:a,isOwnProfile:f=!1})=>{const{user:j}=Y(),[y,m]=l.useState([]),[n,x]=l.useState(null),[C,N]=l.useState([]),[w,D]=l.useState(!0),[S,q]=l.useState("grid"),[P,$]=l.useState(!1),[i,_]=l.useState(!1),[z,A]=l.useState(null),[p,h]=l.useState({search:"",visibility:"all",sortBy:"newest"}),F=a||j?.id;l.useEffect(()=>{F&&d()},[F,p]);const d=async()=>{try{D(!0);let r=k.from("user_collections").select("*").eq("user_id",F).order("created_at",{ascending:!1});switch(p.visibility==="public"?r=r.eq("is_public",!0):p.visibility==="private"&&(r=r.eq("is_private",!0)),p.search&&(r=r.ilike("name",`%${p.search}%`)),p.sortBy){case"oldest":r=r.order("created_at",{ascending:!0});break;case"name":r=r.order("name",{ascending:!0});break;case"items":r=r.order("items_count",{ascending:!1});break;default:r=r.order("created_at",{ascending:!1})}const{data:o,error:t}=await r;if(t)throw t;m(o||[])}catch(r){console.error("Error loading collections:",r),g.error("Failed to load collections")}finally{D(!1)}},b=async r=>{try{const{data:o,error:t}=await k.from("collection_items").select(`
          *,
          artwork:artwork_id (
            id,
            title,
            primary_image_url,
            price,
            currency,
            profiles!artworks_user_id_fkey (
              display_name,
              slug
            )
          )
        `).eq("collection_id",r).order("added_at",{ascending:!1});if(t)throw t;const u=(o||[]).map(M=>({...M,artwork:{...M.artwork,artist:{name:M.artwork.profiles?.display_name||"Unknown Artist",slug:M.artwork.profiles?.slug||""}}}));N(u)}catch(o){console.error("Error loading collection items:",o),g.error("Failed to load collection items")}},E=async r=>{try{const{data:o,error:t}=await k.from("user_collections").insert({user_id:F,name:r.name,description:r.description,is_public:r.is_public||!1,is_private:r.is_private||!0}).select().single();if(t)throw t;m(u=>[o,...u]),$(!1),g.success("Collection created successfully")}catch(o){console.error("Error creating collection:",o),g.error("Failed to create collection")}},s=async(r,o)=>{try{const{data:t,error:u}=await k.from("user_collections").update(o).eq("id",r).select().single();if(u)throw u;m(M=>M.map(U=>U.id===r?t:U)),_(!1),A(null),g.success("Collection updated successfully")}catch(t){console.error("Error updating collection:",t),g.error("Failed to update collection")}},c=async r=>{if(confirm("Are you sure you want to delete this collection?"))try{const{error:o}=await k.from("user_collections").delete().eq("id",r);if(o)throw o;m(t=>t.filter(u=>u.id!==r)),g.success("Collection deleted successfully")}catch(o){console.error("Error deleting collection:",o),g.error("Failed to delete collection")}},v=async(r,o)=>{try{const{error:t}=await k.from("collection_items").delete().eq("id",r);if(t)throw t;m(u=>u.map(M=>M.id===o?{...M,items_count:M.items_count-1}:M)),N(u=>u.filter(M=>M.id!==r)),g.success("Removed from collection")}catch(t){console.error("Error removing from collection:",t),g.error("Failed to remove from collection")}};return w?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Collections"}),e.jsxs("p",{className:"text-muted-foreground",children:[y.length," collection",y.length!==1?"s":""]})]}),f&&e.jsxs("button",{onClick:()=>$(!0),className:"flex items-center gap-2 px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors",children:[e.jsx(ee,{size:16}),"New Collection"]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx(T,{size:16,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground"}),e.jsx("input",{type:"text",placeholder:"Search collections...",value:p.search,onChange:r=>h(o=>({...o,search:r.target.value})),className:"w-full pl-10 pr-4 py-2 border border-border rounded-lg bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-primary"})]}),e.jsxs("select",{value:p.visibility,onChange:r=>h(o=>({...o,visibility:r.target.value})),className:"px-3 py-2 border border-border rounded-lg bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-primary",children:[e.jsx("option",{value:"all",children:"All Collections"}),e.jsx("option",{value:"public",children:"Public"}),e.jsx("option",{value:"private",children:"Private"})]}),e.jsxs("select",{value:p.sortBy,onChange:r=>h(o=>({...o,sortBy:r.target.value})),className:"px-3 py-2 border border-border rounded-lg bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-primary",children:[e.jsx("option",{value:"newest",children:"Newest First"}),e.jsx("option",{value:"oldest",children:"Oldest First"}),e.jsx("option",{value:"name",children:"Name A-Z"}),e.jsx("option",{value:"items",children:"Most Items"})]}),e.jsxs("div",{className:"flex items-center gap-1 border border-border rounded-lg p-1",children:[e.jsx("button",{onClick:()=>q("grid"),className:`p-2 rounded ${S==="grid"?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground"}`,children:e.jsx(R,{size:16})}),e.jsx("button",{onClick:()=>q("list"),className:`p-2 rounded ${S==="list"?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground"}`,children:e.jsx(Z,{size:16})})]})]}),y.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-muted rounded-full flex items-center justify-center",children:e.jsx(R,{size:24,className:"text-muted-foreground"})}),e.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"No collections yet"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:f?"Create your first collection to organize your favorite artworks.":"This user hasn't created any collections yet."}),f&&e.jsx("button",{onClick:()=>$(!0),className:"px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors",children:"Create Collection"})]}):e.jsx("div",{className:S==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:y.map(r=>e.jsxs("div",{className:`bg-card border border-border rounded-lg overflow-hidden hover:shadow-lg transition-shadow cursor-pointer ${S==="list"?"flex":""}`,onClick:()=>{x(r),b(r.id)},children:[e.jsx("div",{className:`${S==="list"?"w-32 h-32":"h-48"} bg-muted flex items-center justify-center`,children:r.cover_image_url?e.jsx("img",{src:r.cover_image_url,alt:r.name,className:"w-full h-full object-cover"}):e.jsx(R,{size:32,className:"text-muted-foreground"})}),e.jsxs("div",{className:`p-4 ${S==="list"?"flex-1":""}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx("h3",{className:"font-semibold text-foreground truncate",children:r.name}),e.jsxs("div",{className:"flex items-center gap-1",children:[r.is_public?e.jsx(se,{size:14,className:"text-green-500",title:"Public"}):e.jsx(re,{size:14,className:"text-muted-foreground",title:"Private"}),f&&e.jsx("div",{className:"relative group",children:e.jsx("button",{onClick:o=>{o.stopPropagation(),A(r),_(!0)},className:"p-1 hover:bg-muted rounded",children:e.jsx(J,{size:14,className:"text-muted-foreground"})})})]})]}),r.description&&e.jsx("p",{className:"text-sm text-muted-foreground mb-3 line-clamp-2",children:r.description}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(R,{size:14}),r.items_count," items"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(ae,{size:14}),r.views_count]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(I,{size:14}),r.likes_count]})]})]})]},r.id))}),n&&e.jsx(pe,{collection:n,items:C,isOwnProfile:f,onClose:()=>x(null),onRemoveItem:v}),P&&e.jsx(be,{onClose:()=>$(!1),onCreate:E}),i&&z&&e.jsx(je,{collection:z,onClose:()=>{_(!1),A(null)},onUpdate:s,onDelete:c})]})},pe=({collection:a,items:f,isOwnProfile:j,onClose:y,onRemoveItem:m})=>e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-background rounded-lg max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[e.jsx("div",{className:"p-6 border-b border-border",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:a.name}),e.jsxs("p",{className:"text-muted-foreground",children:[a.items_count," items"]})]}),e.jsx("button",{onClick:y,className:"p-2 hover:bg-muted rounded-lg",children:"×"})]})}),e.jsx("div",{className:"p-6 overflow-y-auto max-h-[60vh]",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:f.map(n=>e.jsxs("div",{className:"bg-card border border-border rounded-lg overflow-hidden",children:[e.jsx("img",{src:n.artwork.primary_image_url,alt:n.artwork.title,className:"w-full h-48 object-cover"}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"font-semibold text-foreground truncate",children:n.artwork.title}),e.jsx("p",{className:"text-sm text-muted-foreground",children:n.artwork.artist.name}),e.jsxs("p",{className:"text-sm font-medium text-foreground",children:[n.artwork.currency," ",n.artwork.price?.toLocaleString()]}),j&&e.jsx("button",{onClick:()=>m(n.id,a.id),className:"mt-2 text-sm text-destructive hover:underline",children:"Remove"})]})]},n.id))})})]})}),be=({onClose:a,onCreate:f})=>{const[j,y]=l.useState({name:"",description:"",is_public:!1,is_private:!0}),m=n=>{n.preventDefault(),j.name.trim()&&f(j)};return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-background rounded-lg max-w-md w-full",children:[e.jsx("div",{className:"p-6 border-b border-border",children:e.jsx("h2",{className:"text-xl font-bold text-foreground",children:"Create Collection"})}),e.jsxs("form",{onSubmit:m,className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Collection Name *"}),e.jsx("input",{type:"text",value:j.name,onChange:n=>y(x=>({...x,name:n.target.value})),className:"w-full px-3 py-2 border border-border rounded-lg bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Enter collection name",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Description"}),e.jsx("textarea",{value:j.description,onChange:n=>y(x=>({...x,description:n.target.value})),className:"w-full px-3 py-2 border border-border rounded-lg bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Describe your collection",rows:3})]}),e.jsx("div",{className:"space-y-2",children:e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:j.is_public,onChange:n=>y(x=>({...x,is_public:n.target.checked,is_private:!n.target.checked})),className:"rounded"}),e.jsx("span",{className:"text-sm text-foreground",children:"Make this collection public"})]})}),e.jsxs("div",{className:"flex items-center gap-3 pt-4",children:[e.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors",children:"Create Collection"}),e.jsx("button",{type:"button",onClick:a,className:"px-4 py-2 border border-border rounded-lg hover:bg-muted transition-colors",children:"Cancel"})]})]})]})})},je=({collection:a,onClose:f,onUpdate:j,onDelete:y})=>{const[m,n]=l.useState({name:a.name,description:a.description||"",is_public:a.is_public,is_private:a.is_private}),x=N=>{N.preventDefault(),m.name.trim()&&j(a.id,m)},C=()=>{confirm("Are you sure you want to delete this collection? This action cannot be undone.")&&y(a.id)};return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-background rounded-lg max-w-md w-full",children:[e.jsx("div",{className:"p-6 border-b border-border",children:e.jsx("h2",{className:"text-xl font-bold text-foreground",children:"Edit Collection"})}),e.jsxs("form",{onSubmit:x,className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Collection Name *"}),e.jsx("input",{type:"text",value:m.name,onChange:N=>n(w=>({...w,name:N.target.value})),className:"w-full px-3 py-2 border border-border rounded-lg bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-primary",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Description"}),e.jsx("textarea",{value:m.description,onChange:N=>n(w=>({...w,description:N.target.value})),className:"w-full px-3 py-2 border border-border rounded-lg bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-primary",rows:3})]}),e.jsx("div",{className:"space-y-2",children:e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:m.is_public,onChange:N=>n(w=>({...w,is_public:N.target.checked,is_private:!N.target.checked})),className:"rounded"}),e.jsx("span",{className:"text-sm text-foreground",children:"Make this collection public"})]})}),e.jsxs("div",{className:"flex items-center gap-3 pt-4",children:[e.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors",children:"Update Collection"}),e.jsx("button",{type:"button",onClick:C,className:"px-4 py-2 bg-destructive text-destructive-foreground rounded-lg hover:bg-destructive/90 transition-colors",children:"Delete"}),e.jsx("button",{type:"button",onClick:f,className:"px-4 py-2 border border-border rounded-lg hover:bg-muted transition-colors",children:"Cancel"})]})]})]})})},ye=({userId:a,isOwnProfile:f=!1})=>{const{user:j}=Y(),[y,m]=l.useState([]),[n,x]=l.useState(!0),[C,N]=l.useState("grid"),[w,D]=l.useState({search:"",sortBy:"recent"}),S=a||j?.id;l.useEffect(()=>{S&&q()},[S,w]);const q=async()=>{try{x(!0);let i=k.from("artist_follows").select(`
          *,
          artist:artist_id (
            id,
            display_name,
            slug,
            avatar_url,
            bio,
            location,
            created_at,
            updated_at
          )
        `).eq("follower_id",S).order("created_at",{ascending:!1});const{data:_,error:z}=await i;if(z)throw z;const A=(_||[]).map(h=>({id:h.artist.id,name:h.artist.display_name||"Unknown Artist",slug:h.artist.slug||"",avatar_url:h.artist.avatar_url,bio:h.artist.bio,location:h.artist.location,followers_count:0,artworks_count:0,is_following:!0,notifications_enabled:h.notifications_enabled,last_activity:h.artist.updated_at}));let p=A;switch(w.search&&(p=A.filter(h=>h.name.toLowerCase().includes(w.search.toLowerCase())||h.bio?.toLowerCase().includes(w.search.toLowerCase()))),w.sortBy){case"name":p.sort((h,F)=>h.name.localeCompare(F.name));break;case"followers":p.sort((h,F)=>F.followers_count-h.followers_count);break;case"activity":p.sort((h,F)=>new Date(F.last_activity||0).getTime()-new Date(h.last_activity||0).getTime());break;default:break}m(p)}catch(i){console.error("Error loading following:",i),g.error("Failed to load following")}finally{x(!1)}},P=async i=>{try{const{error:_}=await k.from("artist_follows").delete().eq("follower_id",j?.id).eq("artist_id",i);if(_)throw _;m(z=>z.filter(A=>A.id!==i)),g.success("Unfollowed artist")}catch(_){console.error("Error unfollowing artist:",_),g.error("Failed to unfollow artist")}},$=async(i,_)=>{try{const{error:z}=await k.from("artist_follows").update({notifications_enabled:_}).eq("follower_id",j?.id).eq("artist_id",i);if(z)throw z;m(A=>A.map(p=>p.id===i?{...p,notifications_enabled:_}:p)),g.success(_?"Notifications enabled":"Notifications disabled")}catch(z){console.error("Error toggling notifications:",z),g.error("Failed to update notifications")}};return n?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Following"}),e.jsxs("p",{className:"text-muted-foreground",children:[y.length," artist",y.length!==1?"s":""]})]})}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx(T,{size:16,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground"}),e.jsx("input",{type:"text",placeholder:"Search artists...",value:w.search,onChange:i=>D(_=>({..._,search:i.target.value})),className:"w-full pl-10 pr-4 py-2 border border-border rounded-lg bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-primary"})]}),e.jsxs("select",{value:w.sortBy,onChange:i=>D(_=>({..._,sortBy:i.target.value})),className:"px-3 py-2 border border-border rounded-lg bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-primary",children:[e.jsx("option",{value:"recent",children:"Recently Followed"}),e.jsx("option",{value:"name",children:"Name A-Z"}),e.jsx("option",{value:"followers",children:"Most Followers"}),e.jsx("option",{value:"activity",children:"Most Active"})]}),e.jsxs("div",{className:"flex items-center gap-1 border border-border rounded-lg p-1",children:[e.jsx("button",{onClick:()=>N("grid"),className:`p-2 rounded ${C==="grid"?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground"}`,children:e.jsx(R,{size:16})}),e.jsx("button",{onClick:()=>N("list"),className:`p-2 rounded ${C==="list"?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground"}`,children:e.jsx(Z,{size:16})})]})]}),y.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-muted rounded-full flex items-center justify-center",children:e.jsx(I,{size:24,className:"text-muted-foreground"})}),e.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"Not following any artists yet"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:f?"Start following artists to see their latest works and updates.":"This user isn't following any artists yet."}),f&&e.jsx("button",{onClick:()=>window.location.href="/artists",className:"px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors",children:"Discover Artists"})]}):e.jsx("div",{className:C==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:y.map(i=>e.jsxs("div",{className:`bg-card border border-border rounded-lg overflow-hidden hover:shadow-lg transition-shadow ${C==="list"?"flex":""}`,children:[e.jsx("div",{className:`${C==="list"?"w-20 h-20":"h-48"} bg-muted flex items-center justify-center`,children:i.avatar_url?e.jsx("img",{src:i.avatar_url,alt:i.name,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-16 h-16 bg-primary/20 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-2xl font-bold text-primary",children:i.name.charAt(0).toUpperCase()})})}),e.jsxs("div",{className:`p-4 ${C==="list"?"flex-1":""}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-foreground truncate",children:i.name}),i.location&&e.jsx("p",{className:"text-sm text-muted-foreground",children:i.location})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[i.notifications_enabled?e.jsx(B,{size:14,className:"text-green-500",title:"Notifications enabled"}):e.jsx(V,{size:14,className:"text-muted-foreground",title:"Notifications disabled"}),e.jsx("div",{className:"relative group",children:e.jsx("button",{className:"p-1 hover:bg-muted rounded",children:e.jsx(J,{size:14,className:"text-muted-foreground"})})})]})]}),i.bio&&e.jsx("p",{className:"text-sm text-muted-foreground mb-3 line-clamp-2",children:i.bio}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mb-3",children:[e.jsxs("span",{children:[i.followers_count," followers"]}),e.jsxs("span",{children:[i.artworks_count," artworks"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>window.location.href=`/artist/${i.slug}`,className:"flex-1 px-3 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors text-sm",children:"View Profile"}),f&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>$(i.id,!i.notifications_enabled),className:`p-2 rounded-lg transition-colors ${i.notifications_enabled?"bg-green-100 text-green-700 hover:bg-green-200":"bg-muted text-muted-foreground hover:bg-muted/80"}`,title:i.notifications_enabled?"Disable notifications":"Enable notifications",children:i.notifications_enabled?e.jsx(B,{size:16}):e.jsx(V,{size:16})}),e.jsx("button",{onClick:()=>P(i.id),className:"p-2 bg-destructive/10 text-destructive rounded-lg hover:bg-destructive/20 transition-colors",title:"Unfollow",children:e.jsx(fe,{size:16})})]})]})]})]},i.id))})]})},ve=({onResults:a,onClose:f,className:j=""})=>{const[y,m]=l.useState(!1),[n,x]=l.useState(null),[C,N]=l.useState([]),[w,D]=l.useState(!1),[S,q]=l.useState(0),P=l.useRef(null),$=l.useCallback(d=>{d.preventDefault(),m(!0)},[]),i=l.useCallback(d=>{d.preventDefault(),m(!1)},[]),_=l.useCallback(d=>{d.preventDefault(),m(!1);const b=Array.from(d.dataTransfer.files);b.length>0&&A(b[0])},[]),z=d=>{const b=d.target.files;b&&b.length>0&&A(b[0])},A=async d=>{if(!d.type.startsWith("image/")){g.error("Please upload an image file");return}if(d.size>10*1024*1024){g.error("Image size must be less than 10MB");return}try{q(0);const b=new FileReader;b.onload=o=>{x(o.target?.result)},b.readAsDataURL(d);const E=d.name.split(".").pop(),s=`${Date.now()}-${Math.random().toString(36).substring(2)}.${E}`,{data:c,error:v}=await k.storage.from("search-images").upload(s,d,{cacheControl:"3600",upsert:!1});if(v)throw v;const{data:r}=k.storage.from("search-images").getPublicUrl(s);q(100),await p(r.publicUrl,s)}catch(b){console.error("Error uploading image:",b),g.error("Failed to upload image"),x(null),q(0)}},p=async(d,b)=>{try{D(!0);const E=[k.functions.invoke("visual-search-embeddings",{body:{image_url:d,image_name:b,search_type:"visual_similarity",model:"resnet50",threshold:.65,limit:15}}),k.functions.invoke("visual-search-color",{body:{image_url:d,image_name:b,search_type:"color_composition",color_tolerance:.15,composition_weight:.7,limit:10}}),k.functions.invoke("visual-search-style",{body:{image_url:d,image_name:b,search_type:"style_technique",style_categories:["abstract","realism","impressionism","contemporary"],technique_analysis:!0,limit:8}})],[s,c,v]=await Promise.allSettled(E),r=new Map;s.status==="fulfilled"&&s.value.data?.results&&s.value.data.results.forEach(t=>{r.set(t.id,{id:t.id,title:t.title,artist:{name:t.artist_name,slug:t.artist_slug},primary_image_url:t.primary_image_url,price:t.price,currency:t.currency,similarity_score:t.similarity_score*1,medium:t.medium,year:t.year,search_methods:["visual_similarity"],confidence_boost:1})}),c.status==="fulfilled"&&c.value.data?.results&&c.value.data.results.forEach(t=>{const u=r.get(t.id);u?(u.similarity_score=Math.min(1,u.similarity_score*1.25),u.search_methods.push("color_composition"),u.confidence_boost+=.3):r.set(t.id,{id:t.id,title:t.title,artist:{name:t.artist_name,slug:t.artist_slug},primary_image_url:t.primary_image_url,price:t.price,currency:t.currency,similarity_score:t.similarity_score*.8,medium:t.medium,year:t.year,search_methods:["color_composition"],confidence_boost:.8})}),v.status==="fulfilled"&&v.value.data?.results&&v.value.data.results.forEach(t=>{const u=r.get(t.id);u?(u.similarity_score=Math.min(1,u.similarity_score*1.2),u.search_methods.push("style_technique"),u.confidence_boost+=.25):r.set(t.id,{id:t.id,title:t.title,artist:{name:t.artist_name,slug:t.artist_slug},primary_image_url:t.primary_image_url,price:t.price,currency:t.currency,similarity_score:t.similarity_score*.7,medium:t.medium,year:t.year,search_methods:["style_technique"],confidence_boost:.7})});const o=Array.from(r.values()).sort((t,u)=>{const M=t.similarity_score*(1+t.confidence_boost*.1),U=u.similarity_score*(1+u.confidence_boost*.1);return U!==M?U-M:u.search_methods.length-t.search_methods.length}).slice(0,20).map(({search_methods:t,confidence_boost:u,...M})=>M);if(N(o),a?.(o),o.length===0)g("No similar artworks found. Try uploading a clearer image or different artwork style.");else{const t=Array.from(r.values()).filter(u=>u.search_methods.length>1).length;t>0?g.success(`Found ${o.length} similar artworks (${t} high-confidence matches using multiple AI methods)`):g.success(`Found ${o.length} similar artworks using AI visual analysis`)}}catch(E){console.error("Enhanced visual search error:",E);try{const{data:s,error:c}=await k.functions.invoke("visual-search",{body:{image_url:d,image_name:b}});if(!c&&s?.results){const v=s.results.map(r=>({id:r.id,title:r.title,artist:{name:r.artist_name,slug:r.artist_slug},primary_image_url:r.primary_image_url,price:r.price,currency:r.currency,similarity_score:r.similarity_score,medium:r.medium,year:r.year}));N(v),a?.(v),g.success(`Found ${v.length} similar artworks (basic search)`)}else throw c||E}catch(s){console.error("Fallback visual search also failed:",s),g.error("Failed to perform visual search. Please try again.")}}finally{D(!1)}},h=()=>{x(null),N([]),q(0),P.current&&(P.current.value="")},F=()=>{h(),P.current?.click()};return e.jsxs("div",{className:`space-y-6 ${j}`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Visual Search"}),e.jsx("p",{className:"text-muted-foreground",children:"Upload an image to find similar artworks"})]}),f&&e.jsx("button",{onClick:f,className:"p-2 hover:bg-muted rounded-lg transition-colors",children:e.jsx(L,{size:20,className:"text-muted-foreground"})})]}),n?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:n,alt:"Uploaded image",className:"w-full h-64 object-cover rounded-lg"}),e.jsxs("div",{className:"absolute top-2 right-2 flex gap-2",children:[e.jsx("button",{onClick:F,className:"p-2 bg-background/80 backdrop-blur-sm rounded-lg hover:bg-background transition-colors",title:"Retake photo",children:e.jsx(te,{size:16,className:"text-foreground"})}),e.jsx("button",{onClick:h,className:"p-2 bg-background/80 backdrop-blur-sm rounded-lg hover:bg-background transition-colors",title:"Clear image",children:e.jsx(L,{size:16,className:"text-foreground"})})]})]}),S>0&&S<100&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(G,{size:16,className:"animate-spin"}),"Uploading image..."]}),e.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:e.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:`${S}%`}})})]}),w&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(G,{size:16,className:"animate-spin"}),"Searching for similar artworks..."]})]}):e.jsxs("div",{className:`relative border-2 border-dashed rounded-lg p-8 text-center transition-colors ${y?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,onDragOver:$,onDragLeave:i,onDrop:_,children:[e.jsx("input",{ref:P,type:"file",accept:"image/*",onChange:z,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"w-16 h-16 mx-auto bg-muted rounded-full flex items-center justify-center",children:e.jsx(oe,{size:24,className:"text-muted-foreground"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"Upload an image"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Drag and drop an image here, or click to browse"}),e.jsx("button",{onClick:()=>P.current?.click(),className:"px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors",children:"Choose File"})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Supports JPG, PNG, GIF up to 10MB"})]})]}),C.length>0&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-lg font-semibold text-foreground",children:["Similar Artworks (",C.length,")"]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(le,{size:16,className:"text-green-500"}),"Search completed"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:C.map(d=>e.jsxs("div",{className:"bg-card border border-border rounded-lg overflow-hidden hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>window.location.href=`/artist/${d.artist.slug}/${d.id}`,children:[e.jsx("div",{className:"aspect-square bg-muted",children:e.jsx("img",{src:d.primary_image_url,alt:d.title,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"p-4",children:[e.jsx("h4",{className:"font-semibold text-foreground truncate mb-1",children:d.title}),e.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:["by ",d.artist.name]}),e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:"text-sm font-medium text-foreground",children:[d.currency," ",d.price?.toLocaleString()]}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:[Math.round(d.similarity_score*100),"% match"]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[e.jsx("span",{children:d.medium}),e.jsx("span",{children:"•"}),e.jsx("span",{children:d.year})]})]})]},d.id))})]}),n&&!w&&C.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-muted rounded-full flex items-center justify-center",children:e.jsx(T,{size:24,className:"text-muted-foreground"})}),e.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"No similar artworks found"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Try uploading a different image or browse our collection manually."}),e.jsx("button",{onClick:h,className:"px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors",children:"Try Another Image"})]})]})},Ne=()=>{const[a,f]=l.useState({query:"",medium:[],style:[],color:[],size:[],artist:[],location:[],availability:"all",sortBy:"recent"}),[j,y]=l.useState([]),[m,n]=l.useState([]),[x,C]=l.useState(!1),[N,w]=l.useState(!1),[D,S]=l.useState(!1),[q,P]=l.useState(""),$=["Oil on Canvas","Acrylic","Watercolor","Digital Art","Photography","Sculpture","Mixed Media","Print","Drawing","Collage"],i=["Abstract","Realism","Impressionism","Contemporary","Modern","Minimalist","Expressionism","Pop Art","Surrealism","Cubism"],_=["Red","Blue","Green","Yellow","Orange","Purple","Pink","Black","White","Gray","Brown","Gold","Silver"],z=["Small (under 30cm)","Medium (30-60cm)","Large (60-120cm)","Extra Large (over 120cm)"];l.useEffect(()=>{A()},[]);const A=async()=>{try{const{data:s,error:c}=await k.from("saved_searches").select("*").eq("user_id",(await k.auth.getUser()).data.user?.id).order("created_at",{ascending:!1});if(c)throw c;n(s||[])}catch(s){console.error("Error loading saved searches:",s)}},p=async()=>{try{C(!0);let s=k.from("artworks").select(`
          id,
          title,
          price,
          currency,
          medium,
          year,
          dimensions,
          primary_image_url,
          view_count,
          like_count,
          is_trending,
          profiles!artworks_user_id_fkey (
            display_name,
            slug
          )
        `).eq("status","available");switch(a.query&&(s=s.or(`title.ilike.%${a.query}%,description.ilike.%${a.query}%`)),a.priceMin&&(s=s.gte("price",a.priceMin)),a.priceMax&&(s=s.lte("price",a.priceMax)),a.medium.length>0&&(s=s.in("medium",a.medium)),a.yearMin&&(s=s.gte("year",a.yearMin)),a.yearMax&&(s=s.lte("year",a.yearMax)),a.sortBy){case"price_low":s=s.order("price",{ascending:!0});break;case"price_high":s=s.order("price",{ascending:!1});break;case"popular":s=s.order("view_count",{ascending:!1});break;case"trending":s=s.order("is_trending",{ascending:!1}).order("view_count",{ascending:!1});break;default:s=s.order("created_at",{ascending:!1})}const{data:c,error:v}=await s.limit(50);if(v)throw v;const r=(c||[]).map(o=>({id:o.id,title:o.title,artist:{name:o.profiles?.[0]?.display_name||"Unknown Artist",slug:o.profiles?.[0]?.slug||""},primary_image_url:o.primary_image_url,price:o.price,currency:o.currency,medium:o.medium,year:o.year,dimensions:o.dimensions,is_trending:o.is_trending,view_count:o.view_count||0,like_count:o.like_count||0}));y(r)}catch(s){console.error("Error performing search:",s),g.error("Failed to perform search")}finally{C(!1)}},h=async()=>{if(!q.trim()){g.error("Please enter a name for your search");return}try{const{data:s,error:c}=await k.from("saved_searches").insert({user_id:(await k.auth.getUser()).data.user?.id,name:q,search_criteria:a,is_active:!0,alert_frequency:"weekly"}).select().single();if(c)throw c;n(v=>[s,...v]),S(!1),P(""),g.success("Search saved successfully")}catch(s){console.error("Error saving search:",s),g.error("Failed to save search")}},F=s=>{f(s.filters),w(!0),p()},d=async s=>{try{const{error:c}=await k.from("saved_searches").delete().eq("id",s);if(c)throw c;n(v=>v.filter(r=>r.id!==s)),g.success("Search deleted")}catch(c){console.error("Error deleting search:",c),g.error("Failed to delete search")}},b=(s,c)=>{f(v=>({...v,[s]:c}))},E=(s,c,v)=>{f(r=>{const o=r[s]||[];return v?{...r,[s]:[...o,c]}:{...r,[s]:o.filter(t=>t!==c)}})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(T,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground"}),e.jsx("input",{type:"text",placeholder:"Search artworks, artists, or keywords...",value:a.query,onChange:s=>b("query",s.target.value),onKeyPress:s=>s.key==="Enter"&&p(),className:"w-full pl-10 pr-4 py-3 border border-border rounded-lg bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-primary"})]}),e.jsx("button",{onClick:()=>w(!N),className:`px-4 py-3 border rounded-lg transition-colors ${N?"border-primary bg-primary/5 text-primary":"border-border hover:border-primary/50"}`,children:e.jsx(ge,{size:20})}),e.jsx("button",{onClick:p,disabled:x,className:"px-6 py-3 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors disabled:opacity-50",children:x?"Searching...":"Search"})]}),N&&e.jsxs("div",{className:"bg-card border border-border rounded-lg p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Advanced Filters"}),e.jsx("button",{onClick:()=>w(!1),className:"p-1 hover:bg-muted rounded",children:e.jsx(L,{size:20,className:"text-muted-foreground"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Price Range"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"number",placeholder:"Min",value:a.priceMin||"",onChange:s=>b("priceMin",s.target.value?Number(s.target.value):void 0),className:"w-full px-3 py-2 border border-border rounded-lg bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-primary"}),e.jsx("span",{className:"text-muted-foreground",children:"to"}),e.jsx("input",{type:"number",placeholder:"Max",value:a.priceMax||"",onChange:s=>b("priceMax",s.target.value?Number(s.target.value):void 0),className:"w-full px-3 py-2 border border-border rounded-lg bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-primary"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Year Range"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"number",placeholder:"From",value:a.yearMin||"",onChange:s=>b("yearMin",s.target.value?Number(s.target.value):void 0),className:"w-full px-3 py-2 border border-border rounded-lg bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-primary"}),e.jsx("span",{className:"text-muted-foreground",children:"to"}),e.jsx("input",{type:"number",placeholder:"To",value:a.yearMax||"",onChange:s=>b("yearMax",s.target.value?Number(s.target.value):void 0),className:"w-full px-3 py-2 border border-border rounded-lg bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-primary"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Sort By"}),e.jsxs("select",{value:a.sortBy,onChange:s=>b("sortBy",s.target.value),className:"w-full px-3 py-2 border border-border rounded-lg bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-primary",children:[e.jsx("option",{value:"recent",children:"Most Recent"}),e.jsx("option",{value:"price_low",children:"Price: Low to High"}),e.jsx("option",{value:"price_high",children:"Price: High to Low"}),e.jsx("option",{value:"popular",children:"Most Popular"}),e.jsx("option",{value:"trending",children:"Trending"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Medium"}),e.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:$.map(s=>e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:a.medium.includes(s),onChange:c=>E("medium",s,c.target.checked),className:"rounded"}),e.jsx("span",{className:"text-sm text-foreground",children:s})]},s))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Style"}),e.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:i.map(s=>e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:a.style.includes(s),onChange:c=>E("style",s,c.target.checked),className:"rounded"}),e.jsx("span",{className:"text-sm text-foreground",children:s})]},s))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Color"}),e.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:_.map(s=>e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:a.color.includes(s),onChange:c=>E("color",s,c.target.checked),className:"rounded"}),e.jsx("span",{className:"text-sm text-foreground",children:s})]},s))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Size"}),e.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:z.map(s=>e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:a.size.includes(s),onChange:c=>E("size",s,c.target.checked),className:"rounded"}),e.jsx("span",{className:"text-sm text-foreground",children:s})]},s))})]})]}),e.jsxs("div",{className:"flex items-center gap-3 pt-4 border-t border-border",children:[e.jsx("button",{onClick:p,className:"px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors",children:"Apply Filters"}),e.jsx("button",{onClick:()=>f({query:"",medium:[],style:[],color:[],size:[],artist:[],location:[],availability:"all",sortBy:"recent"}),className:"px-4 py-2 border border-border rounded-lg hover:bg-muted transition-colors",children:"Clear All"}),e.jsxs("button",{onClick:()=>S(!0),className:"px-4 py-2 border border-border rounded-lg hover:bg-muted transition-colors flex items-center gap-2",children:[e.jsx(ie,{size:16}),"Save Search"]})]})]}),m.length>0&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Saved Searches"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:m.map(s=>e.jsxs("div",{className:"bg-card border border-border rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx("h4",{className:"font-semibold text-foreground",children:s.name}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>F(s),className:"p-1 hover:bg-muted rounded",title:"Load search",children:e.jsx(T,{size:16,className:"text-muted-foreground"})}),e.jsx("button",{onClick:()=>d(s.id),className:"p-1 hover:bg-muted rounded",title:"Delete search",children:e.jsx(L,{size:16,className:"text-muted-foreground"})})]})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:s.filters.query||"No search query"}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[e.jsx(B,{size:12}),s.alert_frequency," alerts"]})]},s.id))})]}),j.length>0&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("h3",{className:"text-lg font-semibold text-foreground",children:["Search Results (",j.length,")"]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:j.map(s=>e.jsxs("div",{className:"bg-card border border-border rounded-lg overflow-hidden hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>window.location.href=`/artist/${s.artist.slug}/${s.id}`,children:[e.jsxs("div",{className:"aspect-square bg-muted",children:[e.jsx("img",{src:s.primary_image_url,alt:s.title,className:"w-full h-full object-cover"}),s.is_trending&&e.jsxs("div",{className:"absolute top-2 right-2 bg-primary text-primary-foreground px-2 py-1 rounded-full text-xs flex items-center gap-1",children:[e.jsx(O,{size:12}),"Trending"]})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h4",{className:"font-semibold text-foreground truncate mb-1",children:s.title}),e.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:["by ",s.artist.name]}),e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:"text-sm font-medium text-foreground",children:[s.currency," ",s.price?.toLocaleString()]}),e.jsx("span",{className:"text-xs text-muted-foreground",children:s.year})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[e.jsx("span",{children:s.medium}),e.jsx("span",{children:"•"}),e.jsxs("span",{children:[s.dimensions?.width," × ",s.dimensions?.height," ",s.dimensions?.unit]})]})]})]},s.id))})]}),D&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-background rounded-lg max-w-md w-full",children:[e.jsx("div",{className:"p-6 border-b border-border",children:e.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Save Search"})}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Search Name"}),e.jsx("input",{type:"text",value:q,onChange:s=>P(s.target.value),placeholder:"Enter a name for this search",className:"w-full px-3 py-2 border border-border rounded-lg bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-primary"})]}),e.jsxs("div",{className:"flex items-center gap-3 pt-4",children:[e.jsx("button",{onClick:h,className:"flex-1 px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors",children:"Save Search"}),e.jsx("button",{onClick:()=>S(!1),className:"px-4 py-2 border border-border rounded-lg hover:bg-muted transition-colors",children:"Cancel"})]})]})]})})]})},Ze=()=>{const[a,f]=l.useState("collections"),j=[{id:"collections",label:"My Collections",icon:R,description:"Organize your favorite artworks"},{id:"following",label:"Following",icon:K,description:"Artists you follow"},{id:"search",label:"Advanced Search",icon:T,description:"Find artworks with filters"},{id:"visual",label:"Visual Search",icon:ne,description:"Search by image similarity"},{id:"trending",label:"Trending",icon:O,description:"Discover what's popular"},{id:"analytics",label:"Analytics",icon:X,description:"Your activity insights"},{id:"messages",label:"Messages",icon:de,description:"Connect with artists"},{id:"settings",label:"Settings",icon:ce,description:"Privacy & preferences"}],y=()=>{switch(a){case"collections":return e.jsx(W,{isOwnProfile:!0});case"following":return e.jsx(ye,{isOwnProfile:!0});case"search":return e.jsx(Ne,{});case"visual":return e.jsx(ve,{});case"trending":return e.jsx(we,{});case"analytics":return e.jsx(_e,{});case"messages":return e.jsx(ke,{});case"settings":return e.jsx(Ce,{});default:return e.jsx(W,{isOwnProfile:!0})}};return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsxs(Q,{children:[e.jsx("title",{children:"Social Features | ArtFlow"}),e.jsx("meta",{name:"description",content:"Connect with artists, organize collections, and discover new artworks on ArtFlow."})]}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Social Features"}),e.jsx("p",{className:"text-muted-foreground",children:"Connect with artists, organize your collections, and discover new artworks"})]}),e.jsx("div",{className:"mb-8",children:e.jsx("div",{className:"border-b border-border",children:e.jsx("nav",{className:"-mb-px flex space-x-8 overflow-x-auto",children:j.map(m=>{const n=m.icon;return e.jsxs("button",{onClick:()=>f(m.id),className:`group inline-flex items-center gap-2 py-4 px-1 border-b-2 font-medium text-sm whitespace-nowrap transition-colors ${a===m.id?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground hover:border-border"}`,children:[e.jsx(n,{size:20}),e.jsx("span",{className:"hidden sm:block",children:m.label}),e.jsx("span",{className:"sm:hidden",children:m.label.split(" ")[0]})]},m.id)})})})}),e.jsx("div",{className:"space-y-6",children:y()})]})]})},we=()=>{const[a,f]=l.useState([]),[j,y]=l.useState([]),[m,n]=l.useState(!0);return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Trending Now"}),e.jsx("p",{className:"text-muted-foreground",children:"Discover what's popular in the art world"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(O,{size:16}),"Updated 2 hours ago"]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Trending Artists"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3].map(x=>e.jsxs("div",{className:"bg-card border border-border rounded-lg p-6 hover:shadow-lg transition-shadow",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-primary/20 rounded-full flex items-center justify-center",children:e.jsxs("span",{className:"text-lg font-bold text-primary",children:["A",x]})}),e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold text-foreground",children:["Artist ",x]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["+",Math.floor(Math.random()*1e3)," followers this week"]})]})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[e.jsx("span",{children:"🔥 Trending"}),e.jsx("span",{children:"•"}),e.jsxs("span",{children:[Math.floor(Math.random()*50)," artworks"]})]})]},x))})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Trending Artworks"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[1,2,3,4].map(x=>e.jsxs("div",{className:"bg-card border border-border rounded-lg overflow-hidden hover:shadow-lg transition-shadow cursor-pointer",children:[e.jsx("div",{className:"aspect-square bg-muted",children:e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(me,{size:32,className:"text-muted-foreground"})})}),e.jsxs("div",{className:"p-4",children:[e.jsxs("h4",{className:"font-semibold text-foreground truncate",children:["Artwork ",x]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["by Artist ",x]}),e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsxs("span",{className:"text-sm font-medium text-foreground",children:["$1,",x,"00"]}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"🔥 Trending"})]})]})]},x))})]})]})},_e=()=>e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Your Analytics"}),e.jsx("p",{className:"text-muted-foreground",children:"Insights into your art collection and activity"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:"bg-card border border-border rounded-lg p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-primary/20 rounded-lg",children:e.jsx(R,{size:20,className:"text-primary"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Collections"}),e.jsx("p",{className:"text-2xl font-bold text-foreground",children:"12"})]})]})}),e.jsx("div",{className:"bg-card border border-border rounded-lg p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(I,{size:20,className:"text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Artworks Saved"}),e.jsx("p",{className:"text-2xl font-bold text-foreground",children:"47"})]})]})}),e.jsx("div",{className:"bg-card border border-border rounded-lg p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(K,{size:20,className:"text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Artists Followed"}),e.jsx("p",{className:"text-2xl font-bold text-foreground",children:"8"})]})]})}),e.jsx("div",{className:"bg-card border border-border rounded-lg p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:e.jsx(T,{size:20,className:"text-purple-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Searches This Month"}),e.jsx("p",{className:"text-2xl font-bold text-foreground",children:"23"})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Collection Growth"}),e.jsx("div",{className:"h-64 bg-muted rounded-lg flex items-center justify-center",children:e.jsx(X,{size:48,className:"text-muted-foreground"})})]}),e.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Top Artists"}),e.jsx("div",{className:"space-y-3",children:[1,2,3,4,5].map(a=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-primary/20 rounded-full flex items-center justify-center",children:e.jsxs("span",{className:"text-sm font-bold text-primary",children:["A",a]})}),e.jsxs("span",{className:"text-sm text-foreground",children:["Artist ",a]})]}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[Math.floor(Math.random()*20)," artworks"]})]},a))})]})]})]}),ke=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Messages"}),e.jsx("p",{className:"text-muted-foreground",children:"Connect with artists and collectors"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-1",children:[e.jsx("div",{className:"bg-card border border-border rounded-lg p-4 mb-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(T,{size:20,className:"text-muted-foreground"}),e.jsx("input",{type:"text",placeholder:"Search conversations...",className:"flex-1 bg-transparent text-foreground placeholder-muted-foreground focus:outline-none"})]})}),e.jsx("div",{className:"space-y-2",children:[1,2,3,4,5].map(a=>e.jsx("div",{className:"bg-card border border-border rounded-lg p-4 hover:shadow-lg transition-shadow cursor-pointer",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-primary/20 rounded-full flex items-center justify-center",children:e.jsxs("span",{className:"text-sm font-bold text-primary",children:["A",a]})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("h4",{className:"font-semibold text-foreground truncate",children:["Artist ",a]}),e.jsx("p",{className:"text-sm text-muted-foreground truncate",children:"Thanks for your interest in my work..."})]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"2h"})]})},a))})]}),e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"bg-card border border-border rounded-lg h-96 flex flex-col",children:[e.jsx("div",{className:"p-4 border-b border-border",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-primary/20 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-sm font-bold text-primary",children:"A1"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-foreground",children:"Artist 1"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Online"})]})]})}),e.jsxs("div",{className:"flex-1 p-4 space-y-4 overflow-y-auto",children:[e.jsx("div",{className:"flex justify-end",children:e.jsx("div",{className:"bg-primary text-primary-foreground rounded-lg p-3 max-w-xs",children:e.jsx("p",{className:"text-sm",children:"Hi! I'm interested in your latest artwork. Is it still available?"})})}),e.jsx("div",{className:"flex justify-start",children:e.jsx("div",{className:"bg-muted text-foreground rounded-lg p-3 max-w-xs",children:e.jsx("p",{className:"text-sm",children:"Hello! Yes, it's still available. Would you like to see more details?"})})})]}),e.jsx("div",{className:"p-4 border-t border-border",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"text",placeholder:"Type your message...",className:"flex-1 px-3 py-2 border border-border rounded-lg bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-primary"}),e.jsx("button",{className:"px-4 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors",children:"Send"})]})})]})})]})]}),Ce=()=>e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Settings"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage your privacy and preferences"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Privacy Settings"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-foreground",children:"Profile Visibility"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Who can see your profile"})]}),e.jsxs("select",{className:"px-3 py-2 border border-border rounded-lg bg-background text-foreground",children:[e.jsx("option",{value:"public",children:"Public"}),e.jsx("option",{value:"private",children:"Private"}),e.jsx("option",{value:"friends",children:"Friends Only"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-foreground",children:"Collections Visibility"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Who can see your collections"})]}),e.jsxs("select",{className:"px-3 py-2 border border-border rounded-lg bg-background text-foreground",children:[e.jsx("option",{value:"public",children:"Public"}),e.jsx("option",{value:"private",children:"Private"}),e.jsx("option",{value:"friends",children:"Friends Only"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-foreground",children:"Following Visibility"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Who can see who you follow"})]}),e.jsxs("select",{className:"px-3 py-2 border border-border rounded-lg bg-background text-foreground",children:[e.jsx("option",{value:"public",children:"Public"}),e.jsx("option",{value:"private",children:"Private"}),e.jsx("option",{value:"friends",children:"Friends Only"})]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Notifications"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-foreground",children:"Email Notifications"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive updates via email"})]}),e.jsx("input",{type:"checkbox",className:"rounded",defaultChecked:!0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-foreground",children:"Push Notifications"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive push notifications"})]}),e.jsx("input",{type:"checkbox",className:"rounded",defaultChecked:!0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-foreground",children:"Marketing Emails"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive promotional content"})]}),e.jsx("input",{type:"checkbox",className:"rounded"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-foreground",children:"Artist Updates"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"New artworks from followed artists"})]}),e.jsx("input",{type:"checkbox",className:"rounded",defaultChecked:!0})]})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{className:"px-6 py-2 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90 transition-colors",children:"Save Settings"})})]});export{Ze as default};
